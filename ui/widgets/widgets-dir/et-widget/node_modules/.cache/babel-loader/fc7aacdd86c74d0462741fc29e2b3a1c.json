{"ast":null,"code":"import _asyncToGenerator from\"/home/sachin/entando/strapi/sachinBundle/ui/widgets/widgets-dir/et-widget/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/sachin/entando/strapi/sachinBundle/ui/widgets/widgets-dir/et-widget/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/sachin/entando/strapi/sachinBundle/ui/widgets/widgets-dir/et-widget/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';import{coreAPIEndpoint,getCustomer,getProject}from'../apis/strapiapi';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){// const [posts, setPost] = useState([]);\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),customers=_useState2[0],setCustomers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),projects=_useState4[0],setProjects=_useState4[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$getCustomer,customerData,_yield$getProject,projectsData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getCustomer();case 2:_yield$getCustomer=_context.sent;customerData=_yield$getCustomer.data;_context.next=6;return getProject();case 6:_yield$getProject=_context.sent;projectsData=_yield$getProject.data;if(customerData&&customerData.data.length)setCustomers(customerData.data);if(projectsData&&projectsData.data.length)setProjects(projectsData.data);case 10:case\"end\":return _context.stop();}}},_callee);}))();},[]);// if (!customers.length) return <div>no customers to load</div>\n// if (!customers.length && !projects.length) return <div>no data to load</div>\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"1rem\"},children:[!customers.length&&/*#__PURE__*/_jsx(\"div\",{children:\"No customers to load\"}),!projects.length&&/*#__PURE__*/_jsx(\"div\",{children:\"No projects to load\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Projects List\"}),projects.length&&projects.map(function(pro){console.log(pro.attributes.img.data.attributes.url);return/*#__PURE__*/_jsxs(\"div\",{style:{\"boxShadow\":\"0 4px 8px 0 rgba(0,0,0,0.2)\",\"transition\":\"0.3s\",\"width\":\"20rem\",\"padding\":\"1rem\"},children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(coreAPIEndpoint).concat(pro.attributes.img.data.attributes.formats.thumbnail.url),alt:\"project img\"}),/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"#\",pro.id]})}),/*#__PURE__*/_jsx(\"h1\",{children:pro.attributes.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Version:\"}),\" \",pro.attributes.version,\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Release-Date:\"}),\" \",pro.attributes.releaseDate]}),/*#__PURE__*/_jsx(\"p\",{children:pro.attributes.description})]},pro.id);}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Customers List \",/*#__PURE__*/_jsx(Link,{style:{\"backgroundColor\":\"#4CAF50\",\"border\":\"none\",\"color\":\"white\",\"padding\":\"15px 32px\",\"textAlign\":\"center\",\"textDecoration\":\"none\",\"display\":\"inline-block\",\"fontSize\":\"16px\"},to:'/addcustomer',children:\"Add Customer\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{\"display\":\"flex\",\"flexWrap\":\"wrap\"},children:customers.length&&customers.map(function(cust){return/*#__PURE__*/_jsxs(\"div\",{style:{\"boxShadow\":\"0 4px 8px 0 rgba(0,0,0,0.2)\",\"transition\":\"0.3s\",\"width\":\"20rem\",\"padding\":\"1rem\"},children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"#\",cust.id]})}),/*#__PURE__*/_jsx(\"h1\",{children:cust.attributes.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Email:\"}),\" \",cust.attributes.email]}),/*#__PURE__*/_jsx(\"b\",{children:\"Created-At:\"}),\" \",cust.attributes.createdAt,/*#__PURE__*/_jsx(\"p\",{children:cust.attributes.address})]},cust.id);})})]});}","map":{"version":3,"sources":["/home/sachin/entando/strapi/sachinBundle/ui/widgets/widgets-dir/et-widget/src/pages/Home.js"],"names":["React","useEffect","useState","coreAPIEndpoint","getCustomer","getProject","Link","Home","customers","setCustomers","projects","setProjects","customerData","data","projectsData","length","margin","map","pro","console","log","attributes","img","url","formats","thumbnail","id","name","version","releaseDate","description","cust","email","createdAt","address"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { coreAPIEndpoint, getCustomer, getProject } from '../apis/strapiapi';\nimport { Link } from 'react-router-dom';\n\nexport default function Home() {\n\n    // const [posts, setPost] = useState([]);\n    const [customers, setCustomers] = useState([]);\n    const [projects, setProjects] = useState([]);\n\n    useEffect(() => {\n        (async () => {\n            const { data: customerData } = await getCustomer();\n            const { data: projectsData } = await getProject();\n\n            if (customerData && customerData.data.length) setCustomers(customerData.data)\n            if (projectsData && projectsData.data.length) setProjects(projectsData.data);\n\n        })()\n    }, [])\n\n    // if (!customers.length) return <div>no customers to load</div>\n    // if (!customers.length && !projects.length) return <div>no data to load</div>\n\n    return (\n        <div style={{ margin: \"1rem\" }}>\n            {/* <h1>This is fake posts don't take it serious üòù</h1> */}\n            {!customers.length && <div>No customers to load</div>}\n            {!projects.length && <div>No projects to load</div>}\n            <h3>Projects List</h3>\n            {projects.length && projects.map((pro) => {\n                console.log(pro.attributes.img.data.attributes.url)\n                return (<div style={{\n                    \"boxShadow\": \"0 4px 8px 0 rgba(0,0,0,0.2)\",\n                    \"transition\": \"0.3s\",\n                    \"width\": \"20rem\",\n                    \"padding\": \"1rem\"\n                }} key={pro.id}>\n                    <img src={`${coreAPIEndpoint}${pro.attributes.img.data.attributes.formats.thumbnail.url}`} alt=\"project img\" />\n                    <h4><b>#{pro.id}</b></h4>\n                    <h1>{pro.attributes.name}</h1>\n                    <div>\n                        <b>Version:</b> {pro.attributes.version} <b>Release-Date:</b> {pro.attributes.releaseDate}\n                    </div>\n                    <p>{pro.attributes.description}</p>\n                </div>)\n            })}\n            <hr />\n\n            <h3>Customers List <Link style={{\n                \"backgroundColor\": \"#4CAF50\",\n                \"border\": \"none\",\n                \"color\": \"white\",\n                \"padding\": \"15px 32px\",\n                \"textAlign\": \"center\",\n                \"textDecoration\": \"none\",\n                \"display\": \"inline-block\",\n                \"fontSize\": \"16px\"\n            }}\n                to={'/addcustomer'}\n            >Add Customer</Link></h3>\n            <div style={{ \"display\": \"flex\",\"flexWrap\": \"wrap\" }}>{customers.length && customers.map((cust) => (<div style={{\n                \"boxShadow\": \"0 4px 8px 0 rgba(0,0,0,0.2)\",\n                \"transition\": \"0.3s\",\n                \"width\": \"20rem\",\n                \"padding\": \"1rem\"\n            }} key={cust.id}>\n                <h4><b>#{cust.id}</b></h4>\n                <h1>{cust.attributes.name}</h1>\n                <div>\n                    <b>Email:</b> {cust.attributes.email}\n                </div>\n                <b>Created-At:</b> {cust.attributes.createdAt}\n                <p>{cust.attributes.address}</p>\n            </div>))}\n            </div>\n\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}