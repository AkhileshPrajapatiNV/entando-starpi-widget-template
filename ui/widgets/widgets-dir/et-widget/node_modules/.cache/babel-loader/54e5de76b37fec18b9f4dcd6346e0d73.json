{"ast":null,"code":"import _asyncToGenerator from\"/home/sachin/entando/strapi/strapi-project/ui/widgets/widgets-dir/et-widget/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/sachin/entando/strapi/strapi-project/ui/widgets/widgets-dir/et-widget/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/sachin/entando/strapi/strapi-project/ui/widgets/widgets-dir/et-widget/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";var endpoint=\"\".concat(process.env.REACT_APP_PUBLIC_API_URL,\"/example/\");var addAuthorizationRequestConfig=function addAuthorizationRequestConfig(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var defaultOptions=getDefaultOptions();return _objectSpread(_objectSpread({},config),defaultOptions);};var getKeycloakToken=function getKeycloakToken(){if(window&&window.entando&&window.entando.keycloak&&window.entando.keycloak.authenticated){return window.entando.keycloak.token;}return'';};var getDefaultOptions=function getDefaultOptions(){var token=getKeycloakToken();if(!token)return{};return{headers:{Authorization:\"Bearer \".concat(token)}};};export var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var responseObj;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:responseObj={};_context.prev=1;_context.next=4;return axios.get(endpoint,addAuthorizationRequestConfig());case 4:responseObj[\"response\"]=_context.sent;_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.error(_context.t0);responseObj[\"error\"]=_context.t0;case 11:return _context.abrupt(\"return\",responseObj);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function getData(){return _ref.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/sachin/entando/strapi/strapi-project/ui/widgets/widgets-dir/et-widget/src/integration/Integration.js"],"names":["axios","endpoint","process","env","REACT_APP_PUBLIC_API_URL","addAuthorizationRequestConfig","config","defaultOptions","getDefaultOptions","getKeycloakToken","window","entando","keycloak","authenticated","token","headers","Authorization","getData","responseObj","get","console","error"],"mappings":"qeAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,QAAQ,WAAMC,OAAO,CAACC,GAAR,CAAYC,wBAAlB,aAAd,CAEA,GAAMC,CAAAA,6BAA6B,CAAG,QAAhCA,CAAAA,6BAAgC,EAAiB,IAAhBC,CAAAA,MAAgB,2DAAP,EAAO,CACnD,GAAIC,CAAAA,cAAc,CAAGC,iBAAiB,EAAtC,CACA,sCACOF,MADP,EAEOC,cAFP,EAIH,CAND,CAQA,GAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3B,GAAIC,MAAM,EAAIA,MAAM,CAACC,OAAjB,EAA4BD,MAAM,CAACC,OAAP,CAAeC,QAA3C,EAAuDF,MAAM,CAACC,OAAP,CAAeC,QAAf,CAAwBC,aAAnF,CAAkG,CAC9F,MAAOH,CAAAA,MAAM,CAACC,OAAP,CAAeC,QAAf,CAAwBE,KAA/B,CACH,CACD,MAAO,EAAP,CACH,CALD,CAQA,GAAMN,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC5B,GAAMM,CAAAA,KAAK,CAAGL,gBAAgB,EAA9B,CACA,GAAI,CAACK,KAAL,CAAY,MAAO,EAAP,CACZ,MAAO,CACHC,OAAO,CAAE,CACLC,aAAa,kBAAYF,KAAZ,CADR,CADN,CAAP,CAKH,CARD,CAWA,MAAO,IAAMG,CAAAA,OAAO,0FAAG,mJACbC,WADa,CACC,EADD,uCAGiBlB,CAAAA,KAAK,CAACmB,GAAN,CAAUlB,QAAV,CAAoBI,6BAA6B,EAAjD,CAHjB,QAGfa,WAAW,CAAC,UAAD,CAHI,8FAKfE,OAAO,CAACC,KAAR,cACAH,WAAW,CAAC,OAAD,CAAX,aANe,wCAQZA,WARY,sEAAH,kBAAPD,CAAAA,OAAO,0CAAb","sourcesContent":["import axios from \"axios\";\n\nconst endpoint = `${process.env.REACT_APP_PUBLIC_API_URL}/example/`\n\nconst addAuthorizationRequestConfig = (config = {}) => {\n    let defaultOptions = getDefaultOptions();\n    return {\n        ...config,\n        ...defaultOptions\n    }\n}\n\nconst getKeycloakToken = () => {\n    if (window && window.entando && window.entando.keycloak && window.entando.keycloak.authenticated) {\n        return window.entando.keycloak.token\n    }\n    return ''\n}\n\n\nconst getDefaultOptions = () => {\n    const token = getKeycloakToken()\n    if (!token) return {}\n    return {\n        headers: {\n            Authorization: `Bearer ${token}`,\n        },\n    }\n}\n\n\nexport const getData = async () => {\n    const responseObj = {}\n    try {\n        responseObj[\"response\"] = await axios.get(endpoint, addAuthorizationRequestConfig())\n    } catch (error) {\n        console.error(error)\n        responseObj[\"error\"] = error\n    }\n    return responseObj\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}